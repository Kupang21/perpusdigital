<%- include('../partials/header') %>
<div class="flex min-h-screen">
  <%- include('../partials/sidebar') %>

  <main class="p-6 w-full bg-gray-50">
    <h2 class="text-2xl font-bold text-indigo-700 mb-6">ðŸ‘¥ Daftar Pengguna</h2>

    <div class="overflow-x-auto bg-white shadow rounded-lg">
      <table class="min-w-full text-sm text-gray-700">
        <thead class="bg-indigo-100 text-indigo-700 text-left">
          <tr>
            <th class="px-4 py-3">User ID</th>
            <th class="px-4 py-3">Nama</th>
            <th class="px-4 py-3">Email</th>
            <th class="px-4 py-3">Role</th>
            <th class="px-4 py-3">Bergabung</th>
          </tr>
        </thead>
        <tbody>
          <% users.forEach(user => { %>
            <tr class="border-b hover:bg-gray-50">
              <td class="px-4 py-2 font-mono text-indigo-600"><%= user.user_id %></td>
              <td class="px-4 py-2"><%= user.name %></td>
              <td class="px-4 py-2"><%= user.email %></td>
              <td class="px-4 py-2 capitalize">
                <span class="inline-block px-2 py-1 rounded-full text-white text-xs
                  <%= user.role === 'admin' ? 'bg-purple-500' : 'bg-green-500' %>">
                  <%= user.role %>
                </span>
              </td>
              <td class="px-4 py-2 text-sm text-gray-500">
                <%= new Date(user.joined_at).toLocaleDateString('id-ID', { day: '2-digit', month: 'short', year: 'numeric' }) %>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </main>
</div>
