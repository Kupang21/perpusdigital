<%- include('../partials/header') %>
<div class="flex min-h-screen bg-gray-50">
  <%- include('../partials/sidebar') %>

  <main class="p-6 w-full bg-gray-50">
    <h2 class="text-2xl font-bold text-indigo-700 mb-6">ğŸ”„ Riwayat Peminjaman</h2>

    <div class="overflow-x-auto">
      <table class="min-w-full bg-white shadow-md rounded-lg border border-gray-200">
        <thead class="bg-indigo-100 text-indigo-700 text-left">
          <tr>
            <th class="px-4 py-3">ISBN</th>
            <th class="px-4 py-3">Tanggal Pinjam</th>
            <th class="px-4 py-3">Jatuh Tempo</th>
            <th class="px-4 py-3">Status</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100 text-gray-700">
          <% loans.forEach(loan => { %>
            <tr class="hover:bg-gray-50">
              <td class="px-4 py-3 font-medium"><%= loan.isbn %></td>
              <td class="px-4 py-3"><%= new Date(loan.loan_date).toLocaleDateString() %></td>
              <td class="px-4 py-3"><%= new Date(loan.due_date).toLocaleDateString() %></td>
              <td class="px-4 py-3">
                <% if (loan.status === 'returned') { %>
                  <span class="bg-green-100 text-green-700 text-xs font-semibold px-2.5 py-1 rounded-full">
                    âœ”ï¸ Dikembalikan
                  </span>
                <% } else { %>
                  <span class="bg-yellow-100 text-yellow-700 text-xs font-semibold px-2.5 py-1 rounded-full">
                    ğŸ“š Dipinjam
                  </span>
                <% } %>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </main>
</div>
