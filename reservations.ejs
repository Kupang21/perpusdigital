<%- include('../partials/header') %>
<div class="flex min-h-screen">
  <%- include('../partials/sidebar') %>

  <main class="p-6 w-full bg-gray-50">
    <h2 class="text-2xl font-bold text-indigo-700 mb-6">‚è≥ Daftar Reservasi</h2>

    <div class="overflow-x-auto bg-white shadow rounded-lg">
      <table class="min-w-full text-sm text-gray-700">
        <thead class="bg-indigo-100 text-indigo-700 text-left">
          <tr>
            <th class="px-4 py-3">Reservasi ID</th>
            <th class="px-4 py-3">User ID</th>
            <th class="px-4 py-3">ISBN</th>
            <th class="px-4 py-3">Waktu Antrian</th>
          </tr>
        </thead>
        <tbody>
          <% reservations.forEach(rs => { %>
            <tr class="border-b hover:bg-gray-50">
              <td class="px-4 py-2 font-mono text-indigo-600"><%= rs.reservation_id %></td>
              <td class="px-4 py-2"><%= rs.user_id %></td>
              <td class="px-4 py-2"><%= rs.isbn %></td>
              <td class="px-4 py-2 text-gray-600">
                <%= new Date(rs.queued_at).toLocaleString('id-ID', { day: '2-digit', month: 'short', year: 'numeric', hour: '2-digit', minute: '2-digit' }) %>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </main>
</div>
